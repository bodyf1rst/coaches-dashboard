<div class="main-form-area">
  <div class="login-forms">
    <div class="logo">
      <img src="../../assets/images/logo.svg" class="img-fluid" />
    </div>
    <h5 class="text-center mb-4">
      <span *ngIf="loginMode === 'superman'">ü¶∏‚Äç‚ôÇÔ∏è Super Admin Access</span>
      <span *ngIf="loginMode === 'coach'">üë®‚Äçüè´ Coach Access</span>
      <span *ngIf="loginMode === 'default'">{{!checkOtp?'Login':'Verify OTP'}}</span>
    </h5>
    
    <!-- Enhanced Access Buttons -->
    <div class="access-buttons mb-4" *ngIf="showAccessButtons">
      <div class="row g-2">
        <div class="col-6">
          <button type="button" class="btn btn-danger w-100 d-flex align-items-center justify-content-center gap-2"
            (click)="setSupermanAccess()">
            <span style="font-size: 24px;">ü¶∏‚Äç‚ôÇÔ∏è</span>
            <span>Superman Access</span>
          </button>
        </div>
        <div class="col-6">
          <button type="button" class="btn btn-info w-100 d-flex align-items-center justify-content-center gap-2"
            (click)="setCoachAccess()">
            <span style="font-size: 24px;">üë®‚Äçüè´</span>
            <span>Coach Access</span>
          </button>
        </div>
      </div>
      <div class="text-center mt-3 text-muted">
        <small>Choose your access level to continue</small>
      </div>
    </div>

    <form class="row g-3" [formGroup]="loginForm">
      <div class="log-form" *ngIf="!checkOtp">
        <!-- Back Button for Access Modes -->
        <button type="button" class="btn btn-link p-0 mb-2" *ngIf="loginMode !== 'default'"
          (click)="resetAccess()">
          ‚Üê Back to Access Selection
        </button>
        
        <div class="mb-3">
          <label class="form-label">Email</label>
          <div class="icon-field">
            <input type="email" class="form-control" formControlName="email" placeholder="Enter Email" />
            <div class="field-icon">
              <img src="../../assets/images/message-icon.svg" />
            </div>
          </div>
          <div class="text-start text-danger mt-1" style="font-size: 14px" *ngIf="errorInvalid && f['email']?.errors">
            This Field is Invalid.
          </div>
        </div>
        <div class="mb-3">
          <label class="form-label">Password</label>
          <div class="icon-field input-group">
            <input [type]="showPassword ? 'text' : 'password'" class="form-control" formControlName="password"
              placeholder="Enter Password" />
            <div class="field-icon">
              <img src="../../assets/images/lock-icon.svg" />
            </div>
            <button type="button" class="input-group-text" (click)="showPassword = !showPassword">
              <i [ngClass]="showPassword ? 'fa-solid fa-eye-slash' : 'fa-solid fa-eye'"></i>
            </button>
          </div>
          <div class="text-start text-danger mt-1" style="font-size: 14px" *ngIf="errorInvalid && f['password']?.errors">
            This Field is Invalid.
          </div>
        </div>
        <div class="col-12 text-center">
          <button type="submit" class="btn btn-primary w-100 d-flex justify-content-center align-items-center gap-2"
            [disabled]="dataService.isLoading" (click)="submitForm()">
            Login <div class="spinner-border text-light" role="status" *ngIf="dataService.isLoading">
              <span class="visually-hidden">Loading...</span>
            </div>
          </button>
        </div>
        <div class="col-12 mb-3 mt-1">
          <div class="text-center">
            <a class=" text-primary" routerLink="/forgot-password">Forgot
              password? <i class="fa-solid fa-chevron-right"></i></a>
          </div>
        </div>
      </div>
      <div class="verify-otp" *ngIf="checkOtp">
        <div class="backIcon"><button (click)="goBack()" type="button"><i class="fa-solid fa-arrow-left"></i></button>
        </div>
        <div class="mb-3">
          <label class="form-label">Enter OTP*</label>
          <input type="number" class="form-control" placeholder="Enter Here" [(ngModel)]="otpNumber"
            [ngModelOptions]="{standalone: true}" maxlength="6" />
          <div class="text-start text-danger mt-1" style="font-size: 14px" *ngIf="errorInvalid && !otpNumber">
            This Field is Required.
          </div>
          <div class="col-12 mb-3 mt-1">
            <div class="text-center">
              <a *ngIf="!isCountdownActive" class=" text-primary" role="button" (click)="submitForm('Resend')">Resend
                OTP</a>
              <div *ngIf="isCountdownActive">Resend in {{
                countdownDisplay }}</div>
            </div>
          </div>
        </div>
        <div class="col-12 text-center">
          <button type="submit" class="btn btn-primary w-100 d-flex justify-content-center align-items-center gap-2"
            [disabled]="dataService.isLoading || !otpNumber" (click)="submitForm()">
            Submit <div class="spinner-border text-light" role="status" *ngIf="dataService.isLoading">
              <span class="visually-hidden">Loading...</span>
            </div>
          </button>
        </div>
      </div>
    </form>
  </div>
</div>