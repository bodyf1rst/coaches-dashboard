<div class="video-library-container">
  <div class="header">
    <h2>Video Library</h2>
    <p>Manage and view all training videos</p>
  </div>

  <div class="controls">
    <div class="category-buttons">
      <button 
        *ngFor="let cat of categories" 
        [class.active]="selectedCategory === cat.value"
        (click)="onCategoryChange(cat.value)"
        class="category-btn">
        {{cat.label}}
      </button>
    </div>

    <div class="search-box">
      <input 
        type="text" 
        [(ngModel)]="searchText" 
        (input)="onSearch()"
        placeholder="Search videos..."
        class="search-input">
    </div>
  </div>

  <div *ngIf="isLoading" class="loading">
    <div class="spinner-border"></div>
    <p>Loading videos...</p>
  </div>

  <div *ngIf="!isLoading && filteredVideos.length === 0" class="no-videos">
    <p>No videos found</p>
  </div>

  <div *ngIf="!isLoading && filteredVideos.length > 0">
    <div class="pagination-info">
      Showing {{(currentPage - 1) * itemsPerPage + 1}} - {{currentPage * itemsPerPage > filteredVideos.length ? filteredVideos.length : currentPage * itemsPerPage}} of {{filteredVideos.length}} videos
    </div>
    <div class="video-grid">
      <div *ngFor="let video of paginatedVideos" class="video-card">
      <div class="video-thumbnail">
        <video [src]="video.url" controls preload="metadata" style="width: 100%; height: 180px; object-fit: cover;">
          Your browser does not support the video tag.
        </video>
        <span class="duration">{{video.duration}}</span>
      </div>
      <div class="video-info">
        <h4>{{video.title}}</h4>
        <span class="category">{{video.category}}</span>
      </div>
      </div>
    </div>
    <div class="pagination-controls">
      <button (click)="previousPage()" [disabled]="currentPage === 1" class="btn btn-secondary">Previous</button>
      <span class="page-info">Page {{currentPage}} of {{totalPages}}</span>
      <button (click)="nextPage()" [disabled]="currentPage === totalPages" class="btn btn-secondary">Next</button>
    </div>
  </div>
</div>
