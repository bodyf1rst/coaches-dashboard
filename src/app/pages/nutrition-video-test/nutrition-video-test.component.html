<div class="test-container">
  <div class="test-header">
    <h1>🧪 Phase 4 Test: Improved Layout + Collapsible Transcription</h1>
    <p>Testing: Better UX with thumbnail first, collapsible content</p>
  </div>

  <!-- Thumbnail with Play Button Overlay - MOVED TO TOP -->
  <div class="thumbnail-section">
    <div class="thumbnail-wrapper" (click)="playVideo()">
      <img
        [src]="thumbnailUrl"
        alt="{{ title }} Thumbnail"
        class="video-thumbnail">
      <div class="play-button-overlay">
        <div class="play-icon">▶</div>
      </div>
    </div>
    <p style="text-align: center; margin-top: 10px;">👆 Click thumbnail to play video</p>
  </div>

  <!-- Video Info Section - NOW BELOW THUMBNAIL -->
  <div class="video-info-section">
    <h2 class="video-title">{{ title }}</h2>

    <div class="video-meta">
      <span class="meta-item">
        <strong>Duration:</strong> {{ duration }}
      </span>
      <span class="meta-item">
        <strong>Category:</strong> {{ category }}
      </span>
    </div>

    <div class="tags-section">
      <div class="tag-group">
        <strong>Workout Type:</strong>
        <span class="tag" *ngFor="let tag of workoutTags">{{ tag }}</span>
      </div>
      <div class="tag-group">
        <strong>Equipment:</strong>
        <span class="tag equipment-tag" *ngFor="let tag of equipmentTags">{{ tag }}</span>
      </div>
    </div>

    <!-- NEW: Collapsible Transcription -->
    <div class="transcription-section">
      <button
        class="transcription-toggle"
        (click)="toggleTranscription()"
        [attr.aria-expanded]="showTranscription">
        <span class="toggle-label">📝 Transcription</span>
        <span class="toggle-icon">{{ showTranscription ? '▲' : '▼' }}</span>
      </button>

      <div class="transcription-content" *ngIf="showTranscription">
        <p class="transcription-text">{{ transcription }}</p>
      </div>
    </div>
  </div>

  <div class="video-container" *ngIf="showVideo">
    <video
      controls
      crossorigin="anonymous"
      autoplay
      width="100%"
      style="max-width: 800px;"
      [src]="videoUrl">
      Your browser does not support the video tag.
    </video>
  </div>

  <div class="test-info">
    <h3>What this tests:</h3>
    <ul>
      <li>✅ S3 bucket accessibility</li>
      <li>✅ CORS configuration</li>
      <li>✅ Video file format compatibility</li>
      <li>✅ Basic Angular video rendering</li>
      <li>✅ Thumbnail image loading</li>
      <li>✅ Click interaction</li>
    </ul>

    <h3>What this does NOT test (yet):</h3>
    <ul>
      <li>❌ API calls</li>
      <li>❌ Database</li>
      <li>❌ Tags</li>
      <li>❌ Transcription</li>
      <li>❌ Dynamic data</li>
    </ul>
  </div>
</div>
